var msgBoxImagePath="/IconImages/Used/";function msg(e){var t,s,o,n,i,a=!1,c=typeof e,l={content:"string"==c?e:"Message",title:"Warning",type:"alert",autoClose:!1,timeOut:0,modal:!1,showButtons:!0,buttons:[{value:"OK"}],inputs:[{type:"text",name:"userName",header:"User Name"},{type:"password",name:"password",header:"Password"}],success:function(e){},beforeShow:function(){},afterShow:function(){},beforeClose:function(){},afterClose:function(){}};if(null!=(e="string"==c?l:e).type)switch(e.type){case"alert":e.title=null==e.title?"Warning":e.title;break;case"info":e.title=null==e.title?"Information":e.title;break;case"error":e.title=null==e.title?"Error":e.title;break;case"success":e.title=null==e.title?"Success":e.title,e.buttons=null==e.buttons?[{value:"OK"},{value:"Cancel"}]:e.buttons;break;case"confirm":e.title=null==e.title?"Confirmation":e.title,e.buttons=null==e.buttons?[{value:"OK"},{value:"Cancel"}]:e.buttons;break;case"prompt":e.title=null==e.title?"Log In":e.title,e.buttons=null==e.buttons?[{value:"OK"},{value:"Cancel"}]:e.buttons;break;default:r="<div class='op-icon op-warning'>!</div>"}e.timeOut=null==e.timeOut?null==e.content?500:70*e.content.length:e.timeOut,(e=$.extend({},l,e)).autoClose&&setTimeout(D,e.timeOut),e.success&&$(".msgBoxBackGround").remove();var r="";switch(e.type){case"alert":r='<span class="op-icon icon_box alert-iconBox"> <i class="oci oci-alert-triangle font_20px" style="color:#DC6803;"></i></span>';break;case"info":r='<span class="op-icon icon_box info-iconBox"> <i class="oci oci-alert-circle font_20px" style="color:#1C7C92;"></i></span>';break;case"error":r='<span class="op-icon icon_box error-iconBox"><i class="oci oci-alert-circle font_20px" style="color:#D92D20;"></i></span>';break;case"success":r='<span class="op-icon icon_box success-iconBox"><i class="oci oci-check-circle font_20px" style="color:#039855;"></i></span>';break;case"confirm":r='<span class="op-icon icon_box confirm-iconBox"><i class="oci oci-check-circle font_20px" style="color:#DC6803;"></i></span>';break;case"delete":r='<span class="op-icon icon_box delete-iconBox"><i class="oci oci-alert-circle font_20px" style="color:#D92D20;"></i></span>';break;default:r='<span class="op-icon icon_box none-iconBox"><i class="oci oci-alert-circle font_20px" style="color:#1C7C92;"></i></span>'}var u="";switch(e.type){case"alert":u='<h4 class="msgheader">Alert</h4>';break;case"info":u='<h4 class="msgheader">Info</h4>';break;case"error":u='<h4 class="msgheader">Error</h4>';break;case"success":u='<h4 class="msgheader">Success</h4>';break;case"confirm":u='<h4 class="msgheader">Confirm</h4>';break;case"delete":u='<h4 class="msgheader">Delete</h4>';break;default:u='<h4 class="msgheader">Default</h4>'}var d="msgBox"+new Date().getTime();if(null!==navigator.userAgent.match(/msie 7/i))var m="msgBoxContentIEOld";else var m="msgBoxContent";var p=d,h=d+"Content",g=d+"Image",f=d+"Buttons",v=d+"BackGround",x=d+"FirstButton",B="",b=!0;$(e.buttons).each(function(e,t){var s="";b&&(s=' id="'+x+'"',b=!1),B+='<input class="msgButton '+t.value+'" type="button" name="'+t.value+'" value="'+t.value+'"'+s+"/>"});var k="";$(e.inputs).each(function(e,t){var s=t.type;"checkbox"==s||"radiobutton"==s?k+='<div class="msgInput"><input aria-label=\'input\' type="'+t.type+'" name="'+t.name+'" class="'+t.name+'" autofocus onfocus="this.select()"  '+(null==t.checked?"":"checked ='"+t.checked+"'")+' value="'+(void 0===t.value?"":t.value)+'" /><text>'+t.header+"</text></div>":k+='<div class="msgInput"><div class="msgInputHeader">'+t.header+"<div><input aria-label='input' type=\""+t.type+'" name="'+t.name+'" maxlength="255" autofocus onfocus="this.select()" value="'+(void 0===t.value?"":t.value.replace(/"/g,"&quot;"))+'" /></div>'});var y='<div class="msgBoxTitle">'+e.title+' <button aria-label=\'close\' class="btn app_closeRadiusBtn msgButtonHide cancel" type="button" name="cancel" value="cancel"><span class="k-icon k-i-close"></span></button></div>',C='<div class="msgBoxContainer gherkinMsgWrapper"><div class="msgBoxContainerHeight"><div class="LoadMsgBoxScroller"><div id="'+h+'" class="'+m+'"><div readonly>'+e.content+"</div></div></div></div></div>",w='<div id="'+f+'" class="msgBoxButtons">'+B+"</div>",I='<div class="msgBoxInputs">'+k+"</div>";function _(e){}function D(){a&&(e.beforeClose(),t.addClass("op-MSGhide"),i.fadeOut(300),setTimeout(function(){t.remove(),i.remove()},300),setTimeout(e.afterClose,300),a=!1)}"prompt"==e.type?($("body").append('<div id="'+v+'" class="msgBoxBackGround"><div id="'+p+'" class="msgBox">'+y+'<div id="'+g+'" class="msgBoxIcon">'+r+'</div><div class="msgBoxFakeDiv">'+u+C+(e.showButtons?w+"</div>":"</div>")+"</div></div>"),t=$("#"+p),s=$("#"+h),o=$("#"+g),n=$("#"+f),i=$("#"+v),o.remove(),n.css({"text-align":"center","margin-top":"5px"}),s.css({width:"100%",height:"100%"}),s.html(I)):($("body").append('<div id="'+v+'" class="msgBoxBackGround"><div id="'+p+'" class="msgBox">'+y+'<div id="'+g+'" class="msgBoxIcon">'+r+'</div><div class="msgBoxFakeDiv">'+u+C+(e.showButtons?w+"</div>":"</div>")+"</div></div>"),t=$("#"+p),s=$("#"+h),o=$("#"+g),n=$("#"+f),i=$("#"+v)),t.width(),t.height(),$(window).height(),$(window).width(),!function s(){if(!a){e.beforeShow(),i.css({width:$(document).width(),height:(o=document,Math.max(Math.max(o.body.scrollHeight,o.documentElement.scrollHeight),Math.max(o.body.offsetHeight,o.documentElement.offsetHeight),Math.max(o.body.clientHeight,o.documentElement.clientHeight)))}),$(p+","+v).fadeIn(0),t.addClass("op-MSGshow"),setTimeout(e.afterShow,200),$("#"+x).focus(),setTimeout(function(){$("#"+x).focus()},20),setTimeout(function(){$("#"+x).focus()},50),setTimeout(function(){$("#"+x).focus()},100),setTimeout(function(){$(".msgBoxContainer input[autofocus]").focus()},150),$("#MainBody,.MainGuestBodyClass").click(function(e){$("#"+x).focus(),$("input[autofocus]").focus()}),jQuery("div.msgBox").click(function(e){e.stopPropagation()}),a=!0,$(".msgInput").find("input[type=text],select").each(function(){this.select()});var o,n=$(".msgBoxContent>div").text().split("\n").filter(function(e){return""!==e}),c=$(".msgBoxContent>div")[0].innerHTML.split("\n").filter(function(e){return""!==e}),l=n.length;l>=3&&$(".msgBoxContent").css("text-align","left"),l>=15&&$(".msgBoxButtons").append("<button class='msgButton msgBoxfullscreen' type='button'><i class='fa fa-arrows-alt'> </i></button>");for(var r=0;r<c.length;r++){var u=c[r].search("<style>");if(u>=0)break}u>0&&($(".msgBoxContent").css("white-space","normal"),$(".msgBoxIcon .op-icon").remove(),$(".msgBoxIcon").append('<span class="op-icon icon_box error-iconBox"><i class="oci oci-alert-circle font_20px" style="color:#D92D20;"></i></span>')),$(".msgBoxfullscreen").click(function(){$("div.msgBox").toggleClass("MSGfullscreenWidth")}),$(".msgBoxContainerHeight").each(function(){container=$(this).parent("div.msgBoxContainer"),$(this).height(container[0].offsetHeight+15),$(this).css("max-height","340px")}),$("div.LoadMsgBoxScroller").addClass("MSGScrollAuto gherkinMsgBox")}}(),$("input.msgButton,.msgButtonHide").click(function(t){t.preventDefault();var s=$(this).val();if("prompt"!=e.type)e.success(s);else{var o=[];$("div.msgInput input").each(function(e,t){var s=$(this).attr("name"),n=$(this).val(),i=$(this).attr("type");"checkbox"==i||"radiobutton"==i?o.push({name:s,value:n,checked:$(this).attr("checked")}):o.push({name:s,value:n})}),e.success(s,o)}D()}),i.click(function(t){!e.modal&&(!e.showButtons||e.showButtons&&e.buttons.length<2||e.autoClose)&&D()}),$(".msgBox").keyup(function(e){var t=$(".msgBox").find(".msgButton");if(!t.is(":focus")){var s=t[0];13!=e.which||$(s).is(":focus")||$(".msgButton")[0].click(),e.preventDefault(),e.stopImmediatePropagation()}t[1],27==e.which&&$(".msgButton")[2].click(),e.preventDefault(),e.stopImmediatePropagation()}),Mousetrap.bind(["esc"],function(e){var t=$(".msgBox").find(".msgButton"),s=3==t.length?t[2]:t[1];$(s).is(":focus")||$(s).click()})}jQuery.msgBox=msg;